# This workflow checks out a new release and publishes it to PyPI using Poetry.

name: Publish Package

# Controls when the workflow will run
on:
    # Workflow will run when a release has been published for the package
    release:
        types:
            - published

    # Allows you to run this workflow manually from the Actions tab
    workflow_dispatch:

jobs:
    pypi-publish:
        name: Upload release to PyPI
        runs-on: ubuntu-latest
        # # Specifying a GitHub environment is optional, but strongly encouraged
        # environment: release
        permissions:
            # IMPORTANT: this permission is mandatory for trusted publishing
            id-token: write
        steps:
            # retrieve your distributions here
            - name: Publish package distributions to PyPI
              uses: pypa/gh-action-pypi-publish@release/v1
